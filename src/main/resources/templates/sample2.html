<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">
<!-- 『spring-security』は記述しなくても問題無い？
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
    xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
  -->
<head
	th:replace="common/head :: head_fragment(title = 'Sample画面', scripts = ~{::script}, links = ~{::link})"></head>
  <body>

	<div th:replace="common/footerNavbar :: footer_fragment"></div>

	<div class="container">
	  <div class="head_title">サンプル画面（ユーザー認証情報を取得したい）</div>

<strong sec:authorize="isAuthenticated()">認証済み</strong>
<br>
<strong sec:authorize="!isAuthenticated()">未認証</strong>

	<hr />

<div th:object="${authenticatedUser}">
<!--
	<span th:text="*{username}">Username</span>
-->
</div>


<!--  残念ながら取得でいるのはユーザー名です -->
name：<span th:text="${#authentication.name}">name</span>
<!--<span th:text="${#authentication.email}">email</span> -->

	<hr />

<br>
userid：<span th:text="${#authentication.principal.id}">userid</span>
<br>
username：<span th:text="${#authentication.principal.username}">username</span>
<br>
email：<span th:text="${#authentication.principal.email}">email</span>
<br>
roles(List型)：<span th:text="${#authentication.principal.roles}">roles</span>
<br>
roles(String型)：<span th:text="${#authentication.principal.roles.get(0)}">roles</span>

	</div>



	<!-- th:replaceを使用して、 フッター用のフラグメントを読込みます -->
	<div th:replace="common/footerScript :: footer_fragment"></div>

  </body>
</html>
